"use strict";(self.webpackChunkark_website=self.webpackChunkark_website||[]).push([[303],{3905:(t,e,a)=>{a.d(e,{Zo:()=>p,kt:()=>m});var n=a(7294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function o(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},l=Object.keys(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var u=n.createContext({}),s=function(t){var e=n.useContext(u),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},p=function(t){var e=s(t.components);return n.createElement(u.Provider,{value:e},t.children)},d="mdxType",c={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},k=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,l=t.originalType,u=t.parentName,p=o(t,["components","mdxType","originalType","parentName"]),d=s(a),k=r,m=d["".concat(u,".").concat(k)]||d[k]||c[k]||l;return a?n.createElement(m,i(i({ref:e},p),{},{components:a})):n.createElement(m,i({ref:e},p))}));function m(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=a.length,i=new Array(l);i[0]=k;var o={};for(var u in e)hasOwnProperty.call(e,u)&&(o[u]=e[u]);o.originalType=t,o[d]="string"==typeof t?t:r,i[1]=o;for(var s=2;s<l;s++)i[s]=a[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}k.displayName="MDXCreateElement"},635:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>u,contentTitle:()=>i,default:()=>c,frontMatter:()=>l,metadata:()=>o,toc:()=>s});var n=a(7462),r=(a(7294),a(3905));const l={sidebar_position:1,title:"Nomenclature",toc_max_heading_level:5},i=void 0,o={unversionedId:"learn/nomenclature",id:"learn/nomenclature",title:"Nomenclature",description:"\ud83d\udea7 This page is currently under development, and some concepts may not be entirely accurate. We greatly value your feedback and contributions. If you have any suggestions, corrections, or would like to submit edits, please do so through the pull request link available at the bottom of each page.",source:"@site/docs/learn/nomenclature.md",sourceDirName:"learn",slug:"/learn/nomenclature",permalink:"/learn/nomenclature",draft:!1,editUrl:"https://github.com/ark-network/ark/edit/master/website/docs/learn/nomenclature.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Nomenclature",toc_max_heading_level:5},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/"},next:{title:"Boarding the Ark",permalink:"/learn/boarding"}},u={},s=[{value:"Intervenients",id:"intervenients",level:2},{value:"ASP",id:"asp",level:3},{value:"Users",id:"users",level:3},{value:"VTXO",id:"vtxo",level:3},{value:"Moments",id:"moments",level:2},{value:"Boarding the Ark",id:"boarding-the-ark",level:3},{value:"Unilateral exit",id:"unilateral-exit",level:3},{value:"Round",id:"round",level:3},{value:"Transactions",id:"transactions",level:2},{value:"Notes",id:"notes",level:3},{value:"Legend",id:"legend",level:3},{value:"VTXO*",id:"vtxo-1",level:3},{value:"Boarding transaction",id:"boarding-transaction",level:3},{value:"With luggage",id:"with-luggage",level:4},{value:"Without luggage",id:"without-luggage",level:4},{value:"Forfeit transaction*",id:"forfeit-transaction",level:3},{value:"Pool transaction (aka Ark transaction)",id:"pool-transaction-aka-ark-transaction",level:3},{value:"Shared output (aka Shared UTXO)",id:"shared-output-aka-shared-utxo",level:3}],p={toc:s},d="wrapper";function c(t){let{components:e,...a}=t;return(0,r.kt)(d,(0,n.Z)({},p,a,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"\ud83d\udea7 This page is currently under development, and some concepts may not be entirely accurate. We greatly value your feedback and contributions. If you have any suggestions, corrections, or would like to submit edits, please do so through the pull request link available at the bottom of each page.")),(0,r.kt)("h2",{id:"intervenients"},"Intervenients"),(0,r.kt)("h3",{id:"asp"},"ASP"),(0,r.kt)("p",null,"ASPs are always-on servers that provide liquidity to the network, similar to how Lightning service providers work."),(0,r.kt)("h3",{id:"users"},"Users"),(0,r.kt)("p",null,"Any user that onboards the Ark or receives a payment inside an Ark."),(0,r.kt)("h3",{id:"vtxo"},"VTXO"),(0,r.kt)("p",null,"Ark has a UTXO set that lives off the chain. These utxos are referred to as virtual UTXOs or VTXOs in short."),(0,r.kt)("h2",{id:"moments"},"Moments"),(0,r.kt)("h3",{id:"boarding-the-ark"},"Boarding the Ark"),(0,r.kt)("p",null,"When a User sends funds to the Ark and gets VTXOs in return."),(0,r.kt)("h3",{id:"unilateral-exit"},"Unilateral exit"),(0,r.kt)("p",null,"When a user decides to withdraw his funds from the Ark to mainchain, without asking the ASP for permission."),(0,r.kt)("h3",{id:"round"},"Round"),(0,r.kt)("p",null,"Periodic transaction crafted by the ASP that hits mainchain and creates new VTXOs."),(0,r.kt)("h2",{id:"transactions"},"Transactions"),(0,r.kt)("h3",{id:"notes"},"Notes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"In an optimistic scenario, transactions marked with a ",(0,r.kt)("strong",{parentName:"li"},"*")," should never hit onchain."),(0,r.kt)("li",{parentName:"ul"},"All time periods used on timelocks (",(0,r.kt)("strong",{parentName:"li"},"5s"),", ",(0,r.kt)("strong",{parentName:"li"},"24h"),", ",(0,r.kt)("strong",{parentName:"li"},"4w"),", ",(0,r.kt)("strong",{parentName:"li"},"1y"),") are arbitrary: any ASP can use different values.")),(0,r.kt)("h3",{id:"legend"},"Legend"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"A"),": Alice pubkey"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"ASP"),": ASP pubkey"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"cov","*","*","(script)"),": covenant that forces the spending transaction to have a mandatory first output with the ",(0,r.kt)("strong",{parentName:"li"},"script")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"and(A,B)"),": both conditions needed to unlock"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"or(A,B)"),": only one condition needed to unlock"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"and(A, or(S, after(24h)"),": (Alice and Server) or (Alice after 24h)")),(0,r.kt)("h3",{id:"vtxo-1"},"VTXO","*"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A Virtual UTXO: it looks like an UTXO but it should never hit onchain, thus a Virtual UTXO")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Inputs"),(0,r.kt)("th",{parentName:"tr",align:null},"Outputs"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Boarding or Pool transaction"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"(Alice + ASP) or (Alice after 24h)"))))),(0,r.kt)("h3",{id:"boarding-transaction"},"Boarding transaction"),(0,r.kt)("p",null,"There are 2 different ways a user can board the Ark:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"With luggage"),(0,r.kt)("li",{parentName:"ul"},"Without luggage")),(0,r.kt)("p",null,"Different ASPs can use different ways for users to board their Ark."),(0,r.kt)("h4",{id:"with-luggage"},"With luggage"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Initially proposed by ",(0,r.kt)("a",{parentName:"li",href:"https://roose.io/presentations/understanding-ark.pdf"},"Steven Roose")),(0,r.kt)("li",{parentName:"ul"},"Alice funds an output that can be ",(0,r.kt)("strong",{parentName:"li"},"accepted as a VTXO")," in a future round"),(0,r.kt)("li",{parentName:"ul"},"A covenant forces the creation of an output with the same script as ",(0,r.kt)("a",{parentName:"li",href:"#VTXO"},(0,r.kt)("strong",{parentName:"a"},"VTXO")),". No need for interactivity after funding it, anyone can spend."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"ASP")," can unlock after a timeout ie. ",(0,r.kt)("em",{parentName:"li"},"8 weeks")),(0,r.kt)("li",{parentName:"ul"},"Alice is ",(0,r.kt)("strong",{parentName:"li"},"required to be online")," to maintain access to funds: after the timeout, ASP becomes the only owner funds")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Inputs"),(0,r.kt)("th",{parentName:"tr",align:null},"Outputs"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Alice\u2019s UTXO"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"(ASP after 4w) or cov((Alice + ASP) or (Alice after 24h))"))))),(0,r.kt)("h4",{id:"without-luggage"},"Without luggage"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Initially proposed by ",(0,r.kt)("a",{parentName:"li",href:"https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-May/021694.html"},"Burak")),(0,r.kt)("li",{parentName:"ul"},"Alice funds an output that can be ",(0,r.kt)("strong",{parentName:"li"},"accepted as a VTXO")," in a future round"),(0,r.kt)("li",{parentName:"ul"},"If ASP is not cooperative, ",(0,r.kt)("strong",{parentName:"li"},"Alice")," can unlock after a timeout ie. ",(0,r.kt)("em",{parentName:"li"},"8 weeks")),(0,r.kt)("li",{parentName:"ul"},"Alice is ",(0,r.kt)("strong",{parentName:"li"},"not required to be online")," to maintain access to funds: after the timeout, she becomes the only owner of the funds")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Inputs"),(0,r.kt)("th",{parentName:"tr",align:null},"Outputs"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Alice\u2019s UTXO"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"(Alice after 1y) or (Alice + ASP)"))))),(0,r.kt)("h3",{id:"forfeit-transaction"},"Forfeit transaction","*"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Insurance for the ASP, in case Alice tries to double spend her VTXO after spending it inside Ark"),(0,r.kt)("li",{parentName:"ul"},"Before the ASP funds Bob\u2019s VTXO in the next Pool transaction, he must receive this transaction signed by Alice"),(0,r.kt)("li",{parentName:"ul"},"Uses a connector from the next Pool transaction to achieve atomicity")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Inputs"),(0,r.kt)("th",{parentName:"tr",align:null},"Outputs"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"VTXO spending ",(0,r.kt)("inlineCode",{parentName:"td"},"Alice + ASP")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"ASP"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Connector from next Pool transaction"),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("h3",{id:"pool-transaction-aka-ark-transaction"},"Pool transaction (aka Ark transaction)"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Funded by the ASP, creates VTXOs"),(0,r.kt)("li",{parentName:"ul"},"Has at least two outputs:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"A shared output with a VTXOs tree"),(0,r.kt)("li",{parentName:"ul"},"A connectors output with a connectors tree"))),(0,r.kt)("li",{parentName:"ul"},"A new transaction is broadcasted every 5 seconds")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Inputs"),(0,r.kt)("th",{parentName:"tr",align:null},"Outputs"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ASP UTXO"),(0,r.kt)("td",{parentName:"tr",align:null},"Shared output")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Connectors output")))),(0,r.kt)("h3",{id:"shared-output-aka-shared-utxo"},"Shared output (aka Shared UTXO)"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Represents a binary tree of transactions"),(0,r.kt)("li",{parentName:"ul"},"In an optimistic scenario, this tree is never revealed"),(0,r.kt)("li",{parentName:"ul"},"Each leaf on this tree represents a VTXO")),(0,r.kt)("mermaid",{value:"flowchart LR\n    subgraph Onchain\n        shared(Shared output)\n    end\n    subgraph Virtual\n        tx1(TX 1) --\x3e tx2(TX 2)\n        tx1 --\x3e tx3(TX 3)\n        tx2 --\x3e v1(VTXO 1)\n        tx2 --\x3e v2(VTXO 2)\n        tx3 --\x3e v3(VTXO 3)\n        tx3 --\x3e v4(VTXO 4)\n    end\n    shared --\x3e tx1"}))}c.isMDXComponent=!0}}]);